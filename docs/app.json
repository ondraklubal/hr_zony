[
  {
    "name": "app.R",
    "type": "text",
    "content": "library(shiny)\nlibrary(dplyr)\n\ncalculate_zones <- function(method, value) {\n  if (method == \"Max HR\") {\n    df <- tibble(\n      Zone = paste(\"Zone\", 1:5),\n      Description = c(\"Recovery\", \"Endurance\", \"Tempo\", \"Threshold\", \"VO2 Max\"),\n      From = c(0.50, 0.60, 0.70, 0.80, 0.90) * value,\n      To = c(0.60, 0.70, 0.80, 0.90, 1.00) * value,\n      Percent = c(\"50–60%\", \"60–70%\", \"70–80%\", \"80–90%\", \"90–100%\")\n    )\n  } else {\n    df <- tibble(\n      Zone = paste(\"Zone\", 1:5),\n      Description = c(\"Recovery\", \"Endurance\", \"Tempo\", \"Threshold\", \"VO2 Max\"),\n      From = c(0.65, 0.81, 0.90, 0.96, 1.00) * value,\n      To = c(0.80, 0.89, 0.95, 0.99, Inf) * value,\n      Percent = c(\"65–80%\", \"81–89%\", \"90–95%\", \"96–99%\", \"100+%\")\n    )\n  }\n  return(df)\n}\n\nui <- fluidPage(\n  titlePanel(\"Výpočet tepových zón\"),\n\n  sidebarLayout(\n    sidebarPanel(\n      selectInput(\"method\", \"Zvol metodu výpočtu:\", choices = c(\"Max HR\", \"LTHR\")),\n      numericInput(\"value\", \"Zadej hodnotu (bpm):\", value = 180, min = 100, max = 220),\n      actionButton(\"calc\", \"Spočítat\")\n    ),\n\n    mainPanel(\n      uiOutput(\"results_ui\")\n    )\n  )\n)\n\nserver <- function(input, output) {\n  zones <- eventReactive(input$calc, {\n    calculate_zones(input$method, input$value)\n  })\n\n  output$results_ui <- renderUI({\n    req(input$calc)\n\n    tagList(\n      h3(\"Výsledné zóny\"),\n      tableOutput(\"zone_table\")\n    )\n  })\n\n  output$zone_table <- renderTable({\n    zones()\n  }, digits = 0)\n}\n\nshinyApp(ui = ui, server = server)"
  }
]
