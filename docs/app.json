[{"name":"app.R","content":"library(shiny)\r\nlibrary(dplyr)\r\n\r\ncalculate_zones <- function(method, value) {\r\n  if (method == \"Max HR\") {\r\n    df <- tibble(\r\n      Zone = paste(\"Zone\", 1:5),\r\n      Description = c(\"Recovery\", \"Endurance\", \"Tempo\", \"Threshold\", \"VO2 Max\"),\r\n      From = c(0.50, 0.60, 0.70, 0.80, 0.90) * value,\r\n      To = c(0.60, 0.70, 0.80, 0.90, 1.00) * value,\r\n      Percent = c(\"50–60%\", \"60–70%\", \"70–80%\", \"80–90%\", \"90–100%\")\r\n    )\r\n  } else {\r\n    df <- tibble(\r\n      Zone = paste(\"Zone\", 1:5),\r\n      Description = c(\"Recovery\", \"Endurance\", \"Tempo\", \"Threshold\", \"VO2 Max\"),\r\n      From = c(0.65, 0.81, 0.90, 0.96, 1.00) * value,\r\n      To = c(0.80, 0.89, 0.95, 0.99, Inf) * value,\r\n      Percent = c(\"65–80%\", \"81–89%\", \"90–93%\", \"94–99%\", \"100+%\")\r\n    )\r\n  }\r\n  return(df)\r\n}\r\n\r\nui <- fluidPage(\r\n  titlePanel(\"Výpočet tepových zón\"),\r\n  \r\n  sidebarLayout(\r\n    sidebarPanel(\r\n      selectInput(\"method\", \"Zvol metodu výpočtu:\", choices = c(\"Max HR\", \"LTHR\")),\r\n      numericInput(\"value\", \"Zadej hodnotu (bpm):\", value = 180, min = 100, max = 220),\r\n      actionButton(\"calc\", \"Spočítat\")\r\n    ),\r\n    \r\n    mainPanel(\r\n      h3(\"Výsledné zóny\"),\r\n      tableOutput(\"zone_table\")\r\n    )\r\n  )\r\n)\r\n\r\nserver <- function(input, output) {\r\n  zones <- eventReactive(input$calc, {\r\n    calculate_zones(input$method, input$value)\r\n  })\r\n  \r\n  output$zone_table <- renderTable({\r\n    zones()\r\n  }, digits = 0)\r\n}\r\n\r\nshinyApp(ui = ui, server = server)\r\n\r\n","type":"text"}]
